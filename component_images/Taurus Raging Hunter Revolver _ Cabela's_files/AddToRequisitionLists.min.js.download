function AddToRequisitionListsJS(e,t,s,a,i,r,o,n,d,u,l,p){this.storeId=e,this.catalogId=t,this.langId=s,this.dropDownMenuId=a,this.selectListMenuId=i,this.createListMenuId=r,this.listTypeMenuId=o,this.listNameFieldId=n,this.listTypeFieldId=d,this.addResultMenuId=u,this.buttonStyle=l,this.jsObjectName=p,this.dropDownVisible=!1,this.dropDownInFocus=!1,this.pageName="",this.params={};this.dropDownMenuId="",this.createListMenuId="",this.addResultMenuId="",this.addSingleSKU=!1,this.addBundle=!1,this.addPDK=!1;var c=0,m=1,I=0,y=!1;this.addDK=!1;this._initialize=function(){this.someRadioButtonChecked=!1,this.createListDetailsMenuOpen=!1,this.listTypeMenuOpen=!1,this.dropDownOpen=!1,this.addSingleSKU=!1,this.addBundle=!1,this.params.status="Y"},this.setQuantity=function(e){""!=e&&(m=e)},this.getQuantity=function(){return m},this.setCatEntryId=function(e,t){null!=e?(y=!0,I=e,c=t):y=!1},this.getCatEntryId=function(){return I},this.setProductId=function(e){c=e},this.setAddPDK=function(e){this.addPDK=e},this.setAddDK=function(e){this.addDK=e},this.setConfigurationXML=function(e){this.configurationXML=e},this.unEscapeXml=function(e){return e.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&#034;/gm,'"')},this._hideDropDownMenu=function(e){e&&(e.style.display="none",dojo.byId("grayOut")&&(dojo.byId("grayOut").style.display="none"),dojo.byId("grayOutPopup")&&(dojo.byId("grayOutPopup").style.display="none"),this.dropDownVisible=!1,this.dropDownInFocus=!1,this.dropDownOpen=!1),document.removeEventListener&&document.removeEventListener("keydown",this.trapTabKey,!0)},this._showDropDownMenu=function(e,t){if(!t||y){if(e){e.style.display="block";var s=dojo.query(".radioButton",e);s.length>0&&s[0].focus(),dojo.byId("grayOut")&&(dojo.byId("grayOut").style.display="block"),dojo.byId("grayOutPopup")&&(dojo.byId("grayOutPopup").style.display="block"),this.dropDownVisible=!0,this.dropDownInFocus=!0,this.dropDownOpen=!0,MessageHelper.hideAndClearMessage()}document.addEventListener&&document.addEventListener("keydown",this.trapTabKey,!0)}else MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_RESOLVED_SKU)},this._hideSelectList=function(){dojo.byId(this.selectListMenuId)&&(dojo.byId(this.selectListMenuId).style.display="none")},this._showSelectList=function(){dojo.byId(this.selectListMenuId)&&(dojo.byId(this.selectListMenuId).style.display="block")},this.trapTabKey=function(e){if(9==e.keyCode){for(var t=dojo.query(".requisitionListContent.popup"),s=null,a=0;a<t.length;a++)0!=t[a].offsetHeight&&(s=t[a]);if(null!=s){var i=dojo.query('[tabindex$="0"]',s),r=[];for(a=0;a<i.length;a++)0!=i[a].offsetHeight&&r.push(i[a]);var o=document.activeElement,n=r.length,d=r.indexOf(o);e.shiftKey?0==d&&(e.preventDefault(),r[n-1].focus()):d==n-1&&(e.preventDefault(),r[0].focus())}}},this.toggleDropDownMenu=function(e,t,s,i,r){if(null==t&&(t=!0),r){for(var o in shoppingActionsJS.productList){var n=shoppingActionsJS.productList[o];if(0!=(l=dojo.number.parse(n.quantity))){if(0==n.id)return void MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);if(isNaN(l)||l<0)return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR)}}this.addBundle=!0}if(s){if(!(c in SKUListJS.quantityList))return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUTS_ERROR);var d=0;for(var u in SKUListJS.quantityList[c]){var l=SKUListJS.quantityList[c][u];if(!isPositiveInteger(l))return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUTS_ERROR);d++}if(0==d)return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUTS_ERROR)}if(i){l=dojo.byId(i+"_Mobile_Quantity_Input").value;if(!isPositiveInteger(l))return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);this.setQuantity(l),this.addSingleSKU=!0}0==this.dropDownOpen?this._showDropDownMenu(dojo.byId(a),t):this._hideDropDownMenu(dojo.byId(a)),0==e?this._hideSelectList():this._showSelectList()},this.checkRadioButton=function(e,t,s){e&&(dojo.query(".checked",a).style("display","none"),dojo.query(".checked",e).style("display","block"),dojo.query(".radioButton",a).forEach(function(e){dojo.setAttr(e,"aria-checked","false")}),dojo.setAttr(e,"aria-checked","true"),void 0!=s&&(this.params.name=s.replace(/&#039;/gm,"'")),this.params.requisitionListId=t,this.someRadioButtonChecked=!0)},this.toggleCreateListDetailsMenu=function(e){1==this.createListDetailsMenuOpen&&0==e?(dojo.byId(r).style.display="none",this.createListDetailsMenuOpen=!1,dojo.byId(this.pageName+"scrollContainer").scrollTop=dojo.byId(this.pageName+"scrollContainer").scrollHeight):0==this.createListDetailsMenuOpen&&1==e&&(dojo.byId(r).style.display="block",this.createListDetailsMenuOpen=!0,dojo.byId(this.pageName+"scrollContainer").scrollTop=dojo.byId(this.pageName+"scrollContainer").scrollHeight)},this.handleKeyEventListTypeMenu=function(e){switch(e.keyCode){case 38:e.preventDefault(),"Z"==this.params.status&&this.setListType("Y");break;case 40:e.preventDefault(),"Y"==this.params.status&&this.setListType("Z")}},this.toggleListTypeMenu=function(){1==this.listTypeMenuOpen?(dojo.byId(o).style.display="none",this.listTypeMenuOpen=!1,dojo.byId(this.pageName+"scrollContainer").scrollTop=dojo.byId(this.pageName+"scrollContainer").scrollHeight):(dojo.byId(o).style.display="block",this.listTypeMenuOpen=!0,dojo.byId(this.pageName+"scrollContainer").scrollTop=dojo.byId(this.pageName+"scrollContainer").scrollHeight)},this.setListType=function(e){this.params.status!=e&&(dojo.byId(d+this.params.status).style.display="none",this.params.status=e,dojo.byId(d+this.params.status).style.display="block",dojo.byId(this.pageName+"scrollContainer").scrollTop=dojo.byId(this.pageName+"scrollContainer").scrollHeight)},this.addSkus2RequisitionListAjax=function(){if(1==this.someRadioButtonChecked){if(params={},params.storeId=this.storeId,params.catalogId=this.catalogId,params.langId=this.langId,params.pageName=this.pageName,params.buttonStyle=this.buttonStyle,params.productId=c,params.name=this.params.name,params.status=this.params.status,params.requisitionListId=this.params.requisitionListId,params.addBundle=this.addBundle,params.addMultipleSKUs="true",this.addSingleSKU){var e=dojo.byId(I+"_Mobile_Quantity_Input").value;if(!isPositiveInteger(e))return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);params.catEntryId_1=I,params.quantity_1=e}else if(this.addBundle){var t=1;for(var s in shoppingActionsJS.productList){var a=shoppingActionsJS.productList[s];if(0!=(e=dojo.number.parse(a.quantity))){if(0==a.id)return void MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);if(isNaN(e)||e<0)return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);params["catEntryId_"+t]=a.id,params["quantity_"+t]=e,params["productId_"+t++]=s}}}else if(c in SKUListJS.quantityList){t=1;for(var i in SKUListJS.quantityList[c]){e=SKUListJS.quantityList[c][i];if(!isPositiveInteger(e))return void MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUTS_ERROR);params["catEntryId_"+t]=i,params["quantity_"+t++]=e}}null!=params.catEntryId_1&&null!=params.quantity_1?submitRequest()&&(cursor_wait(),this.createListDetailsMenuOpen&&(params.name=dojo.byId(this.listNameFieldId).value.replace(/^\s+|\s+$/g,""),""==params.name)?MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_EMPTY_SL_NAME):wc.service.invoke("addCatalogEntriesToCreateRequisitionList",params)):MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUTS_ERROR)}else MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_LIST_NOT_CHOSEN)},this.addOrderToRequisitionList=function(){if(1==this.someRadioButtonChecked){if(params={},params.storeId=this.storeId,params.catalogId=this.catalogId,params.langId=this.langId,params.pageName=this.pageName,params.buttonStyle=this.buttonStyle,params.productId=c,params.name=this.params.name,params.status=this.params.status,params.requisitionListId=this.params.requisitionListId,params.addSavedOrder="true",SavedOrderListJS.quantityList!={}){var e=1;for(var t in SavedOrderListJS.quantityList)for(var s in SavedOrderListJS.quantityList[t]){var a=SavedOrderListJS.quantityList[t][s];params["catEntryId_"+e]=s,params["quantity_"+e]=a,e++}}null!=params.catEntryId_1&&null!=params.quantity_1?submitRequest()&&(cursor_wait(),this.createListDetailsMenuOpen&&(params.name=dojo.byId(this.listNameFieldId).value.replace(/^\s+|\s+$/g,""),""==params.name)?MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_EMPTY_SL_NAME):wc.service.invoke("addOrderToCreateRequisitionList",params)):MessageHelper.displayErrorMessage(storeNLS.MYACCOUNT_SAVEDORDERLIST_EMPTY_ADD_TO_REQ_FAIL)}else MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_LIST_NOT_CHOSEN)},this.addToList=function(){1==this.someRadioButtonChecked?(params={},params.storeId=this.storeId,params.catalogId=this.catalogId,params.langId=this.langId,params.catEntryId=I,params.productId=c,params.pageName=this.pageName,params.buttonStyle=this.buttonStyle,params.name=this.params.name,params.status=this.params.status,params.requisitionListId=this.params.requisitionListId,params.quantity=m,m<1?MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR):submitRequest()&&(cursor_wait(),this.createListDetailsMenuOpen&&(params.name=dojo.byId(this.listNameFieldId).value.replace(/^\s+|\s+$/g,""),""==params.name)?MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_EMPTY_SL_NAME):(this.addPDK&&(wc.service.getServiceById("addToCreateRequisitionList").url=getAbsoluteURL()+"AjaxRESTRequisitionListConfigurationAdd"),wc.service.invoke("addToCreateRequisitionList",params)))):MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_LIST_NOT_CHOSEN)},this.moveToList=function(e){1==this.someRadioButtonChecked?(params={},params.storeId=this.storeId,params.catalogId=this.catalogId,params.langId=this.langId,params.catEntryId=I,params.productId=c,params.pageName=this.pageName,params.buttonStyle=this.buttonStyle,params.name=this.params.name,params.status=this.params.status,params.requisitionListId=this.params.requisitionListId,params.requisitionOrderItemId=e,params.quantity=m,m<1?MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR):submitRequest()&&(cursor_wait(),this.createListDetailsMenuOpen&&(params.name=dojo.byId(this.listNameFieldId).value.replace(/^\s+|\s+$/g,""),""==params.name)?MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_EMPTY_SL_NAME):((this.addPDK||this.addDK)&&(this.addDK&&(params.configurationXML=this.unEscapeXml(this.configurationXML)),wc.service.getServiceById("addToCreateRequisitionListAndDeleteFromCart").url=getAbsoluteURL()+"AjaxRESTRequisitionListConfigurationAdd"),wc.service.invoke("addToCreateRequisitionListAndDeleteFromCart",params)))):MessageHelper.displayErrorMessage(storeNLS.ERROR_SL_LIST_NOT_CHOSEN)},this.continueShopping=function(){if(dojo.byId(u)){dojo.byId(u).style.display="none",this.toggleDropDownMenu(!0),this._initialize(),document.removeEventListener&&document.removeEventListener("keydown",this.trapTabKey,!0);var e=dojo.byId(this.pageName+"addToShoppingListBtn");null!=e&&e.focus()}},wc.service.declare({id:"addToCreateRequisitionList",actionId:"addToCreateRequisitionList",url:getAbsoluteURL()+"AjaxRequisitionListUpdateItem",formId:"",successHandler:function(e){MessageHelper.hideAndClearMessage(),cursor_clear();var t="";null!=document.getElementById("ProductInfoName_"+e.productId)?t=document.getElementById("ProductInfoName_"+e.productId).value:null!=document.getElementById("ProductInfoName_"+I)&&(t=document.getElementById("ProductInfoName_"+I).value);var s="";null!=document.getElementById("ProductInfoImage_"+e.productId)?s=document.getElementById("ProductInfoImage_"+e.productId).value:null!=document.getElementById("ProductInfoImage_"+I)&&(s=document.getElementById("ProductInfoImage_"+I).value),wc.render.updateContext("requisitionLists_content_context",{showSuccess:"true",listName:e.name,productName:t,productThumbnail:s,storeId:e.storeId,buttonStyle:e.buttonStyle,parentPage:e.pageName,productId:e.productId});var a=window.setInterval(function(){var t=dojo.byId(e.pageName+"requisitionListsContShopButton");null!=t&&0!=t.offsetHeight&&(window.clearInterval(a),t.focus(),document.addEventListener&&document.addEventListener("keydown",this.trapTabKey,!0))},100)},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey),cursor_clear()}}),wc.service.declare({id:"addToCreateRequisitionListAndDeleteFromCart",actionId:"addToCreateRequisitionListAndDeleteFromCart",url:getAbsoluteURL()+"AjaxRESTRequisitionListUpdateItem",formId:"",successHandler:function(e){MessageHelper.hideAndClearMessage(),cursor_clear();var t="";null!=document.getElementById("catalogEntry_name_"+e.requisitionOrderItemId)&&(t=document.getElementById("catalogEntry_name_"+e.requisitionOrderItemId).innerHTML);var s="";null!=document.getElementById("catalogEntry_img_"+e.requisitionOrderItemId)&&(s=document.getElementById("catalogEntry_img_"+e.requisitionOrderItemId).childNodes[1].src),wc.render.updateContext("requisitionLists_content_context",{showSuccess:"true",listName:e.name,productName:t,productThumbnail:s,storeId:e.storeId,buttonStyle:e.buttonStyle,parentPage:e.pageName}),CheckoutHelperJS.deleteFromCart(e.requisitionOrderItemId);var a=window.setInterval(function(){var t=dojo.byId(e.pageName+"requisitionListsContShopButton");null!=t&&0!=t.offsetHeight&&(window.clearInterval(a),t.focus(),document.addEventListener&&document.addEventListener("keydown",this.trapTabKey,!0))},100);dojo.byId("grayOut")&&(dojo.byId("grayOut").style.display="none"),dojo.byId("grayOutPopup")&&(dojo.byId("grayOutPopup").style.display="none")},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey),cursor_clear()}}),wc.service.declare({id:"addCatalogEntriesToCreateRequisitionList",actionId:"addCatalogEntriesToCreateRequisitionList",url:getAbsoluteURL()+"AjaxRESTRequisitionListUpdateItem",formId:"",successHandler:function(e){MessageHelper.hideAndClearMessage(),cursor_clear();for(var t=[],s=[],a=[],i=1;"catEntryId_"+i in e;i++){var r=e["catEntryId_"+i],o=e["productId_"+i],n=dojo.byId("item_name_"+r)||dojo.byId("ProductInfoName_"+o);if(null!=n){t.push(n.value);var d=dojo.byId("item_sku_"+r);null!=d&&a.push("("+d.value+")")}var u=dojo.byId("item_thumbnail_"+r)||dojo.byId("ProductInfoImage_"+r);if(null!=u)s.push(u.value);else if(null!=dojo.byId("entitledItem_"+o)){var l=dojo.fromJson(dojo.byId("entitledItem_"+o).innerHTML);for(var p in l){var c=l[p];if(c.catentry_id==r&&null!=c.ItemThumbnailImage){s.push(c.ItemThumbnailImage);break}}}}var m="";e.addBundle&&(m="bundle"),wc.render.updateContext("requisitionLists_content_context",{showSuccess:"true",listName:e.name,productName:t,productThumbnail:s,productSKU:a,storeId:e.storeId,buttonStyle:e.buttonStyle,parentPage:e.pageName,productId:e.productId,addMultipleSKUs:e.addMultipleSKUs,numberOfSKUs:i-1,type:m});var I=window.setInterval(function(){var t=dojo.byId(e.pageName+"requisitionListsContShopButton");null!=t&&0!=t.offsetHeight&&(window.clearInterval(I),t.focus(),document.addEventListener&&document.addEventListener("keydown",this.trapTabKey,!0))},100);dojo.publish("SKUsAddedToReqList")},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey),cursor_clear()}}),wc.service.declare({id:"addOrderToCreateRequisitionList",actionId:"addOrderToCreateRequisitionList",url:getAbsoluteURL()+"AjaxRESTRequisitionListUpdateItem",formId:"",successHandler:function(e){MessageHelper.hideAndClearMessage(),cursor_clear(),wc.render.updateContext("requisitionLists_content_context",{showSuccess:"true",listName:e.name,storeId:e.storeId,buttonStyle:e.buttonStyle,parentPage:e.pageName,productID:e.productId,addSavedOrder:e.addSavedOrder,orderId:e.orderId});var t=window.setInterval(function(){var s=dojo.byId(e.pageName+"requisitionListsContShopButton");null!=s&&0!=s.offsetHeight&&(window.clearInterval(t),s.focus(),document.addEventListener&&document.addEventListener("keydown",this.trapTabKey,!0))},100)},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey),cursor_clear()}}),"AddToRequisitionListJS"!=p&&(this.pageName=p.replace("AddToRequisitionListsJS","")),this._initialize()}dojo.require("wc.service.common"),dojo.require("wc.render.common"),wc.render.declareContext("requisitionLists_content_context",{showSuccess:"false"}),wc.render.declareRefreshController({id:"requisitionLists_content_controller",renderContext:wc.render.getContextById("requisitionLists_content_context"),url:getAbsoluteURL()+"AddToRequisitionListsView",formId:"",renderContextChangedHandler:function(e,t){var s=this.renderContext;s.properties.parentPage+"requisitionlists_content_widget"===t.id&&t.refresh(s.properties)},modelChangedHandler:function(e,t){},postRefreshHandler:function(e){MessageHelper.hideAndClearMessage(),cursor_clear()}});