"undefined"!=typeof SearchJS&&null!=SearchJS&&SearchJS||(SearchJS={autoSuggestTimer:-1,autoSuggestKeystrokeDelay:400,autoSuggestHover:!1,autoSuggestPreviousTerm:"",autoSuggestURL:"",autoSelectOption:-1,historyIndex:-1,retrievedCachedSuggestions:!1,TOTAL_SUGGESTED:4,TOTAL_HISTORY:2,AUTOSUGGEST_THRESHOLD:4,DYNAMIC_AUTOSUGGEST_THRESHOLD:4,CACHED_AUTOSUGGEST_OFFSET:1e3,END_OF_LIST:!1,STATIC_CONTENT_SECTION_DIV:["autoSuggestStatic_1","autoSuggestStatic_2","autoSuggestStatic_3"],staticContentHeaderHistory:"",CachedSuggestionsURL:"",SearchAutoSuggestServletURL:"",searchDepartmentHoverTimeout:"",searchSuggestionHoverTimeout:"",mouseDownConnectHandle:null,maxSearchTermsInCookie:5,coveoCategorySuggestionsArr:[],productCardsArr:[],searchDepartmentSelect:function(e,t){return byId("searchDepartmentLabel").innerHTML=t.innerHTML,byId("search_categoryId").value=e,this.hideSearchDepartmentList(),!1},cancelEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1},searchDepartmentKeyPressed:function(e,t,o,r,s){if(13==e.keyCode)this.searchDepartmentSelect(r,s),null!=(n=document.getElementById("mobileSearchDropdown"))&&"block"==n.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus();else if(38==e.keyCode)0!=t&&(dojo.byId("searchDepartmentList_"+(t-1)).focus(),this.cancelEvent(e));else if(40==e.keyCode)t!=o&&(dojo.byId("searchDepartmentList_"+(t+1)).focus(),this.cancelEvent(e));else if(27==e.keyCode){null!=(n=document.getElementById("mobileSearchDropdown"))&&"block"==n.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus(),this.hideSearchDepartmentList()}else if(e.shiftKey&&9==e.keyCode){var n;null!=(n=document.getElementById("mobileSearchDropdown"))&&"block"==n.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus(),this.cancelEvent(e),this.hideSearchDepartmentList()}else 9==e.keyCode&&(dojo.byId("search_submit").focus(),this.cancelEvent(e),this.hideSearchDepartmentList());return!1},hideSearchDepartmentList:function(){byId("searchDepartmentList").style.display="none"},init:function(){dojo.connect(document.CatalogSearchForm.searchTerm,"onfocus",SearchJS,SearchJS._onFocus),dojo.connect(document.CatalogSearchForm.searchTerm,"onblur",SearchJS,SearchJS._onBlur),dojo.connect(document.CatalogSearchForm.searchTerm,"onkeydown",SearchJS,SearchJS._onKeyDown),dojo.connect(document.CatalogSearchForm.searchTerm,"onkeyup",SearchJS,SearchJS._onKeyUp),dojo.connect(document.getElementById("searchDropdown"),"onkeyup",SearchJS,SearchJS._onKeyTab),this.staticContentHeaderHistory=storeNLS.HISTORY;try{var e=window.location.origin.split(":",2).join(":");dojo.xhrGet({url:e+"/wcs/resources/store/"+WCParamJS.storeId+"/storeconf/FS_REACT_SEARCHROUTE_ENABLED",handleAs:"json",load:function(e){null!=e&&void 0!==e.configValue&&(SearchJS.searchRouteEnable=e.configValue)},error:function(e){console.error("FS_REACT_SEARCHROUTE_ENABLED error: "+e)}})}catch(e){console.error("FS_REACT_SEARCHROUTE_ENABLED error: "+e)}},showSearchComponent:function(){var e=document.getElementById("searchDropdown");null!=e&&(e.style.display="block")},hideSearchComponent:function(){var e=document.getElementById("searchDropdown");null!=e&&(e.style.display="none")},_showMobileSearchComponent:function(){var e=document.getElementById("mobileSearchDropdown");null!=e&&("block"==e.style.display?(DepartmentJS.close("mobileSearchDropdown"),e.style.display="none"):(dojo.query(".subDeptDropdown ").forEach(function(e){DepartmentJS.close(e.id)}),DepartmentJS.close("departmentsDropdown"),e.style.display="block"))},setCachedSuggestionsURL:function(e){this.CachedSuggestionsURL=getAbsoluteURL()+e},setAutoSuggestURL:function(e){this.SearchAutoSuggestServletURL=getAbsoluteURL()+e},_onFocus:function(e){document.getElementById("departmentsMenu").classList.add("hidden"),document.getElementById("searchBar").classList.add("active"),document.getElementById("cancel-search").classList.add("visible"),this.showSearchComponent(),this.retrieveCachedSuggestions()},_onBlur:function(e){document.getElementById("searchBox").classList.remove("has-result"),document.getElementById("searchBar").classList.remove("active"),document.getElementById("departmentsMenu").classList.remove("hidden"),document.getElementById("cancel-search").classList.remove("visible")},_MobileonFocus:function(e){this.showSearchComponent(),this.retrieveCachedSuggestions()},_MobileonBlur:function(e){clearTimeout(this.searchSuggestionHoverTimeout),this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",100)},_onKeyPress:function(e){return e.keyCode!=dojo.keys.ENTER},_onKeyDown:function(e){e.keyCode==dojo.keys.ENTER?(this._handleEnterKey(),this.cancelEvent(e)):"9"!=e.keyCode&&"9"!=e.which||(clearTimeout(this.searchSuggestionHoverTimeout),this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",200))},_onKeyUp:function(e){document.getElementById("searchDropdown").style.display="block";var t=document.CatalogSearchForm.searchTerm.value;null!=t&&""!=t&&(t=(t=t.replace(/[\])}[{(]/g,"")).replace(/[\\]/g,"")),this.doAutoSuggest(e,this.SearchAutoSuggestServletURL,t)},_onKeyTab:function(e){"9"!=e.keyCode&&"9"!=e.which||dojo.byId("searchFilterButton").focus()},_MobileonKeyUp:function(e){document.getElementById("mobileSearchDropdown").style.display="block",this.doAutoSuggest(e,this.SearchAutoSuggestServletURL,dojo.byId("MobileSimpleSearchForm_SearchTerm").value)},_handleEnterKey:function(){document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value),document.CatalogSearchForm.searchTerm.value=document.CatalogSearchForm.searchTerm.value.replace(/[\])}[{(]/g,""),document.CatalogSearchForm.searchTerm.value=document.CatalogSearchForm.searchTerm.value.replace(/[\\]/g,""),document.CatalogSearchForm.searchTerm.value.length>0&&(this.END_OF_LIST?this.gotoAdvancedSearch(byId("advancedSearch").href):""!=this.autoSuggestURL&&this.autoSuggestURL!=document.location.href+"#"?document.location.href=appendWcCommonRequestParameters(this.autoSuggestURL):(document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value),void 0!==SearchJS.searchRouteEnable&&"TRUE"==SearchJS.searchRouteEnable?SearchJS.resolveRedirection(document.CatalogSearchForm.searchTerm.value):submitSpecifiedForm(document.CatalogSearchForm)))},_onClick:function(e){return document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value),document.CatalogSearchForm.searchTerm.value.length>0&&submitSpecifiedForm(document.CatalogSearchForm),!1},_MobileonClick:function(e){return document.MobileCatalogSearchForm.searchTerm.value=trim(document.MobileCatalogSearchForm.searchTerm.value),document.MobileCatalogSearchForm.searchTerm.value.length>0&&submitSpecifiedForm(document.MobileCatalogSearchForm),!1},doDynamicAutoSuggestCoveoNext:function(e,t,o,r,s){wc.render.getRefreshControllerById("AutoSuggestDisplayController").url=e+"&term="+encodeURIComponent(t)+"&showHeader="+o+"&coveoSuggestions="+encodeURIComponent(r)+"&coveoCategorySuggestions="+encodeURIComponent(s),console.debug("update autosuggest "+e),wc.render.updateContext("AutoSuggest_Context",{}),this.autoSuggestTimer=-1},doDynamicAutoSuggestCoveoProductCards:function(e,t,o,r,s,n){wc.render.getRefreshControllerById("AutoSuggestDisplayController").url=e+"&term="+encodeURIComponent(t)+"&showHeader="+o+"&coveoSuggestions="+encodeURIComponent(r)+"&coveoCategorySuggestions="+encodeURIComponent(s)+"&coveoProductCardSuggestions="+encodeURIComponent(n),console.debug("update autosuggest "+e),wc.render.updateContext("AutoSuggest_Context",{}),this.autoSuggestTimer=-1},doDynamicAutoSuggest:function(e,t,o){-1!=this.autoSuggestTimer&&(clearTimeout(this.autoSuggestTimer),this.autoSuggestTimer=-1);var r="",s="",n="";if("plpPage"==(null!=document.getElementById("pageName")?document.getElementById("pageName").value:""))var a=document.getElementById("categoryName").value,i={mode:SearchJS.coveoContext,listingpage:a,query:t};else i={mode:SearchJS.coveoContext};var c=JSON.parse(localStorage.getItem("__coveo.analytics.history"));SearchJS.coveoCategorySuggestionsArr=[],SearchJS.productCardsArr=[],this.autoSuggestTimer=setTimeout(function(){if(void 0!==SearchJS.searchRouteEnable&&"TRUE"==SearchJS.searchRouteEnable){var a={Authorization:"Bearer "+SearchJS.coveoT,"Content-Type":"application/json",Accept:"application/json","Accept-Encoding":"gzip, deflate, br"};dojo.xhrPost({url:SearchJS.coveoKeywordSuggestionURL,timeout:parseInt(SearchJS.coveoServiceTimeout),handleAs:"json",headers:a,postData:dojo.toJson({context:i,count:SearchJS.coveoKeywordSuggestionCount,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,locale:SearchJS.locale,q:t,searchHub:SearchJS.coveoSearchhub,visitorId:localStorage.getItem("visitorId"),ClientId:localStorage.getItem("visitorId"),actionsHistory:c}),load:function(i){if(void 0!==i.completions){var c=i.completions.length;if(c>0){for(var u=0;u<c;u++)r=0==r.length?i.completions[u].expression:r+"||"+i.completions[u].expression;var l=i.completions[0].expression,d=null!=document.referrer||""!=document.referrer?document.referrer:window.location.href,h="",g="",m=dojo.xhrPost({url:SearchJS.coveoCategorySuggestionsEndpoint,timeout:parseInt(SearchJS.coveoServiceTimeout),handleAs:"json",headers:a,postData:dojo.toJson({field:"@category",maximumNumberOfValues:SearchJS.coveoCategorySuggestionsLimit,queryOverride:l,constantQueryOverride:SearchJS.coveoCategorySuggestionsCQOverride,sortCriteria:"occurrences"})}),S=dojo.xhrPost({url:SearchJS.coveoProductCardsSuggestionsEndpoint,timeout:parseInt(SearchJS.coveoServiceTimeout),handleAs:"json",headers:a,postData:dojo.toJson({q:l,locale:SearchJS.locale,debug:!1,tab:"SearchDisplay",referrer:d,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,visitorId:localStorage.getItem("visitorId"),context:{mode:"live"},fieldsToInclude:["ec_thumbnails","ec_rating","minofferprice","minlistprice","maxofferprice","maxlistprice","bvreviews","producturlkeyword","maxpercentsavings","minpercentsavings","maxsavings","minsavings","isproductfreeoffer","isproductdiscounted","isproductspecialoffer","isproductcluboffer","isproductclubexclusive","isexclusive","subscriptionenabled","productinstoreonly","webid","title","sku","field4"],enableQuerySyntax:!1,searchHub:SearchJS.coveoSearchhub,sortCriteria:"relevancy",enableDidYouMean:!1,numberOfResults:SearchJS.coveoProductCardsSuggestionsLimit,firstResult:0})});new dojo.DeferredList([m,S]).then(function(a){if(void 0!==a[0][1].values){var i=a[0][1].values.length;if(i>0)for(var c=0;c<i;c++){var u=l+" in ~"+a[0][1].values[c].value;s=0==s.length?u:s+"||"+u,SearchJS.coveoCategorySuggestionsArr.push(u)}}if(void 0!==a[1][1].results){var d=a[1][1].results.length;if(d>0)for(c=0;c<d;c++){a[1][1].results[c].raw.isproductdiscounted,h=a[1][1].results[c].raw.minofferprice==a[1][1].results[c].raw.maxofferprice?"$"+a[1][1].results[c].raw.minofferprice:"$"+a[1][1].results[c].raw.minofferprice+"-$"+a[1][1].results[c].raw.maxofferprice,g=a[1][1].results[c].raw.minlistprice==a[1][1].results[c].raw.maxlistprice?"$"+a[1][1].results[c].raw.minlistprice:"$"+a[1][1].results[c].raw.minlistprice+"-$"+a[1][1].results[c].raw.maxlistprice;var m=h==g?h:h+" "+g;u=a[1][1].results[c].raw.title+"~"+m+"~"+a[1][1].results[c].raw.ec_thumbnails+"~"+a[1][1].results[c].raw.producturlkeyword;n=0==n.length?u:n+"||"+u,SearchJS.productCardsArr.push(u)}}SearchJS.doDynamicAutoSuggestCoveoProductCards(e,t,o,r,s,n)})}}else SearchJS.doDynamicAutoSuggestCoveoProductCards(e,t,o,r,s,n)},error:function(e){console.log(e)}})}else wc.render.getRefreshControllerById("AutoSuggestDisplayController").url=e+"&term="+encodeURIComponent(t)+"&showHeader="+o,console.debug("update autosuggest "+e),wc.render.updateContext("AutoSuggest_Context",{}),this.autoSuggestTimer=-1},this.autoSuggestKeystrokeDelay)},gotoAdvancedSearch:function(e){var t=byId("SimpleSearchForm_SearchTerm").value;t=t.replace(/[\])}[{(]/g,""),document.location.href=appendWcCommonRequestParameters(e)+"&searchTerm="+t},showAutoSuggest:function(e){var t=document.getElementById("autoSuggest_Result_div");if(dojo.isIE<7)var o=document.getElementById("autoSuggest_content_div"),r=document.getElementById("autoSuggestDropDownIFrame");if(null!=t&&void 0!==t)if(e){if(screen.width<=770){var s=0;dojo.byId("searchDropdown")&&(s=dojo.byId("searchDropdown").getBoundingClientRect().top),setTimeout(function(){t.style.height=window.innerHeight-s+"px"},500),t.style.overflow="scroll"}t.style.display="block",dojo.isIE<7&&(r.style.height=o.scrollHeight,r.style.display="block"),this.registerMouseDown()}else dojo.isIE<7&&(r.style.display="none",r.style.height=0),t.style.display="none",this.unregisterMouseDown();else this.unregisterMouseDown()},showAutoSuggestIfResults:function(){var e=document.getElementById("mobileSearchDropdown"),t=document.getElementById("searchBox");"undefined"!=typeof staticContent&&""==document.getElementById(this.STATIC_CONTENT_SECTION_DIV[0]).innerHTML&&""==document.getElementById("autoSuggestHistory").innerHTML&&null==document.getElementById("dynamicAutoSuggestTotalResults")?(this.showAutoSuggest(!1),t.classList.remove("has-result")):null!=e&&"block"==e.style.display?document.getElementById("MobileSimpleSearchForm_SearchTerm").value.length<this.AUTOSUGGEST_THRESHOLD?this.showAutoSuggest(!1):this.showAutoSuggest(!0):document.CatalogSearchForm.searchTerm.value.length<this.AUTOSUGGEST_THRESHOLD?this.showAutoSuggest(!1):(this.showAutoSuggest(!0),t.classList.add("has-result"))},selectAutoSuggest:function(e){var t=document.getElementById("mobileSearchDropdown");if(null!=t&&"block"==t.style.display)var o=document.getElementById("MobileSimpleSearchForm_SearchTerm");else o=document.CatalogSearchForm.searchTerm;o.value=e,o.focus(),this.autoSuggestPreviousTerm=e,submitSpecifiedForm(document.CatalogSearchForm)},highLightSelection:function(e,t){var o=document.getElementById("autoSelectOption_"+t);if(null!=o&&void 0!==o){if(e){o.className="autoSuggestSelected";var r=document.getElementById("mobileSearchDropdown");if(null!=r&&"block"==r.style.display)var s=document.getElementById("MobileSimpleSearchForm_SearchTerm");else s=document.CatalogSearchForm.searchTerm;s.setAttribute("aria-activedescendant","suggestionItem_"+t);var n=document.getElementById("dynamicAutoSuggestTotalResults");(null!=n&&void 0!==n&&t<n.value||t>=this.historyIndex)&&(s.value=o.title,this.autoSuggestPreviousTerm=o.title),this.autoSuggestURL=o.href}else o.className="";return!0}return!1},enableAutoSelect:function(e){this.highLightSelection(!1,this.autoSelectOption),document.getElementById("autoSelectOption_"+e).className="autoSuggestSelected",this.autoSelectOption=e},resetAutoSuggestKeyword:function(){var e=document.getElementById("autoSuggestOriginalTerm");if(null!=e&&void 0!==e){var t=document.getElementById("mobileSearchDropdown");if(null!=t&&"block"==t.style.display)var o=document.getElementById("MobileSimpleSearchForm_SearchTerm");else o=document.CatalogSearchForm.searchTerm;o.value=e.value,this.autoSuggestPreviousTerm=e.value}},clearAutoSuggestResults:function(){for(var e=0;e<staticContent.length;e++)document.getElementById(this.STATIC_CONTENT_SECTION_DIV[e]).innerHTML="";this.autoSuggestPreviousTerm="",this.autoSuggestURL="",document.getElementById("autoSuggestDynamic_Result_div").innerHTML="",this.showAutoSuggest(!1)},doAutoSuggest:function(e,t,o){var r=document.getElementById("searchBox");if(null!=o&&""!=o&&(o=o.trim()),o.length<=this.AUTOSUGGEST_THRESHOLD&&(this.showAutoSuggest(!1),r.classList.remove("has-result")),e.keyCode!=dojo.keys.ENTER)if(e.keyCode!=dojo.keys.TAB)if(e.keyCode!=dojo.keys.ESCAPE)if(e.keyCode!=dojo.keys.UP_ARROW){if(e.keyCode!=dojo.keys.DOWN_ARROW){if(!(o.length>=this.AUTOSUGGEST_THRESHOLD&&o==this.autoSuggestPreviousTerm||(this.autoSuggestPreviousTerm=o,o.length<this.AUTOSUGGEST_THRESHOLD)))if(-1!=this.autoSuggestTimer&&(clearTimeout(this.autoSuggestTimer),this.autoSuggestTimer=-1),""!=o)if(this.autoSelectOption=-1,o.length>=this.DYNAMIC_AUTOSUGGEST_THRESHOLD){this.doDynamicAutoSuggest(t,o,!0)}else document.getElementById("autoSuggestDynamic_Result_div").innerHTML="";else this.clearAutoSuggestResults()}else if(this.highLightSelection(!0,this.autoSelectOption+1))this.highLightSelection(!1,this.autoSelectOption),this.autoSelectOption++;else if(this.autoSelectOption<this.CACHED_AUTOSUGGEST_OFFSET&&this.highLightSelection(!0,this.CACHED_AUTOSUGGEST_OFFSET))this.highLightSelection(!1,this.autoSelectOption),this.autoSelectOption=this.CACHED_AUTOSUGGEST_OFFSET,this.resetAutoSuggestKeyword();else if(!this.END_OF_LIST){dojo.addClass("autoSuggestAdvancedSearch","autoSuggestSelected"),this.highLightSelection(!1,this.autoSelectOption),this.autoSelectOption++,this.END_OF_LIST=!0;var s=document.getElementById("mobileSearchDropdown");if(null!=s&&"block"==s.style.display)var n=document.getElementById("MobileSimpleSearchForm_SearchTerm");else n=document.CatalogSearchForm.searchTerm;n.setAttribute("aria-activedescendant","advancedSearch")}}else{var a=document.getElementById("dynamicAutoSuggestTotalResults");if(this.END_OF_LIST)dojo.removeClass("autoSuggestAdvancedSearch","autoSuggestSelected"),this.END_OF_LIST=!1,this.autoSelectOption--,this.highLightSelection(!0,this.autoSelectOption)||this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&null!=a&&void 0!==a&&(this.autoSelectOption=a.value-1,this.highLightSelection(!0,this.autoSelectOption));else if(this.highLightSelection(!0,this.autoSelectOption-1))this.highLightSelection(!1,this.autoSelectOption),this.autoSelectOption==this.historyIndex&&this.resetAutoSuggestKeyword(),this.autoSelectOption--;else if(this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&null!=a&&void 0!==a)this.highLightSelection(!1,this.CACHED_AUTOSUGGEST_OFFSET),this.autoSelectOption=a.value-1,this.highLightSelection(!0,this.autoSelectOption);else{this.highLightSelection(!1,this.autoSelectOption),this.autoSelectOption=-1;document.getElementById("autoSuggestOriginalTerm");this.resetAutoSuggestKeyword()}}else this.showAutoSuggest(!1);else this.autoSuggestHover=!0},tokenizeForBidi:function(e,t,o,r){var s=e.split(" > "),n="",a="";if(s.length>0){for(n+="<div class='category_list'>",i=0;i<s.length;i++){if(0!=i&&(n+="<span class='gt'>&nbsp; > &nbsp;</span>"),i==s.length-1){var c=t.toLowerCase().indexOf(r);a=(a=t.substr(0,c)+("<span class='highlight'>"+o+"</span>")+t.substr(c+o.length)).replace(/[\\]/g,"")}else a=s[i];n+=a}n+="</div>"}return n},doStaticAutoSuggest:function(e){for(var t=["","","","","",""],o=0,r=e.toLowerCase(),s=this.CACHED_AUTOSUGGEST_OFFSET,n="<div class='list_section'><div",a=0;a<staticContent.length;a++)for(var i=0,c=0;c<staticContent[a].length;c++){var u=staticContent[a][c][0],l=staticContent[a][c][1],d=staticContent[a][c][2];if(-1!=u.toLowerCase().indexOf(r)){for(var h=d.split(">"),g="",m=0,S=0;S<h.length;S++)-1==h[S].toLowerCase().indexOf("hidden-")?g=g+h[S]+">":m++;if(""!=g&&(d=g),m!=h.length){var p=this.tokenizeForBidi(d,u,e,r);if(l=l+"?searchTerm="+u.replace(/[\\]/g,""),t[a]=t[a]+"<ul class='autoSuggestDivNestedList'><li id='suggestionItem_"+s+"' role='listitem' tabindex='-1'><a id='autoSelectOption_"+s+"' title='"+escapeXml(u.replace(/[\\]/g,""),!0)+"' onmouseout='this.className=\"\"; this.autoSuggestURL=\"\";' onclick='SearchJS.hideSearchComponent();' onmouseover='SearchJS.enableAutoSelect("+s+"); this.autoSuggestURL=this.href;' href=\""+l+'">'+p+"</a></li></ul>",s++,++i>=this.TOTAL_SUGGESTED)break}}}for(a=0;a<staticContent.length;a++)if(document.getElementById(this.STATIC_CONTENT_SECTION_DIV[a]).innerHTML="",""!=t[a]){var v="<ul class='autoSuggestDivNestedList'><li class='heading'><span>"+staticContentHeaders[a]+"</span></li></ul>";document.getElementById(this.STATIC_CONTENT_SECTION_DIV[o]).innerHTML=v+n+" role='list' title='"+staticContentHeaders[a]+"' aria-label='"+staticContentHeaders[a]+"'>"+t[a]+"</div></div>",o++}var C="",y=document.getElementById("autoSuggestHistory");y.innerHTML="";var f=new Array;this.historyIndex=s;var T=getCookie("searchTermHistory");if(void 0!==T){var E=T.split("|");for(i=0,a=E.length-1;a>0;a--){var I=E[a],_=I.toLowerCase();if(_.match("^"+r)==r){var A=!1;for(c=0;c<f.length;c++)if(f[c]==_){A=!0;break}if(!A){if(i>=this.TOTAL_HISTORY)break;C=C+"<ul class='autoSuggestDivNestedList'><li id='suggestionItem_"+s+"' role='listitem' tabindex='-1'><a href='#' onmouseout='this.className=\"\"' onmouseover='SearchJS.enableAutoSelect("+s+");' onclick='SearchJS.selectAutoSuggest(this.title); return false;' title='"+I+"' id='autoSelectOption_"+s+"'><strong>"+e+"</strong>"+I.substring(e.length,I.length)+"</a></li></ul>",f.push(_),i++,s++}}}}if(""!=C){v="<ul class='autoSuggestDivNestedList'><li class='heading'><span>"+this.staticContentHeaderHistory+"</span></li></ul>";y.innerHTML=v+n+" title='"+this.staticContentHeaderHistory+"'>"+C+"</div></div>",o++}return o>0&&(this.showAutoSuggest(!0),!0)},retrieveCachedSuggestions:function(){this.retrievedCachedSuggestions||(wc.render.getRefreshControllerById("AutoSuggestCachedSuggestionsController").url=this.CachedSuggestionsURL,console.debug("update cache sugg "+this.CachedSuggestionsURL),wc.render.updateContext("CachedSuggestions_Context",{}))},updateSearchTermHistoryCookie:function(e){var t="|"+e;void 0!==getCookie("searchTermHistory")&&(this.setExistingSearchTermCookieForUpdate(),t=dojo.cookie("searchTermHistory")+t),setCookie("searchTermHistory",t,{path:"/",domain:cookieDomain})},updateSearchTermHistoryCookieAndRedirect:function(e,t){this.updateSearchTermHistoryCookie(e),t=t+"?searchTerm="+(e=e.replace("%","")),document.location.href=appendWcCommonRequestParameters(t)},setExistingSearchTermCookieForUpdate:function(){var e="|",t=dojo.cookie("searchTermHistory");if(void 0!==t){var o=t.split("|").length-1;if(void 0!=o&&o>=this.maxSearchTermsInCookie){var r=t.split("|");cookieValueToDelete=r[1];for(var s=2;s<=o;s++)e+=r[s],e=s==o?e:e+"|";setCookie("searchTermHistory",e,{path:"/",domain:cookieDomain})}}},isValidNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&e>=0},validateForm:function(e){e.minPrice.value=trim(e.minPrice.value),e.maxPrice.value=trim(e.maxPrice.value);var t=e.minPrice.value,o=e.maxPrice.value,r=this.isValidNumber(t),s=this.isValidNumber(o);if(t.length>0&&!r)return MessageHelper.formErrorHandleClient(e.minPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN),!1;if(o.length>0&&!s)return MessageHelper.formErrorHandleClient(e.maxPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN),!1;if(t.length>0&&o.length>0&&parseFloat(t)>parseFloat(o))return MessageHelper.formErrorHandleClient(e.maxPrice.id,MessageHelper.messages.ERROR_PRICE_RANGE),!1;e.searchTerm.value=trim(e.searchTerm.value),e.filterTerm.value=trim(e.filterTerm.value),e.manufacturer.value=trim(e.manufacturer.value);var n=e.searchTerm.value,a=e.filterTerm.value,i=e.manufacturer.value;if(0==n.length&&0==a.length&&0==i.length)return MessageHelper.formErrorHandleClient(e.searchTerm.id,MessageHelper.messages.ERROR_EMPTY_SEARCH_FIELDS),!1;processAndSubmitForm(e)},registerMouseDown:function(){null==this.mouseDownConnectHandle&&(this.mouseDownConnectHandle=dojo.connect(document.documentElement,"onmousedown",this,"handleMouseDown"))},unregisterMouseDown:function(){null!=this.mouseDownConnectHandle&&(dojo.disconnect(this.mouseDownConnectHandle),this.mouseDownConnectHandle=null)},handleMouseDown:function(e){var t=e.target;if(t!=document.documentElement){for(var o=document.getElementById("searchDropdown"),r=document.CatalogSearchForm.searchTerm,s=!0;t;){if(t==o||t==r){s=!1;break}t=t.parentNode}s&&this.showAutoSuggest(!1)}},resolveRedirection:function(e){dojo.xhrPost({url:SearchJS.reactKeywordRoutesEndpoint+e.replaceAll("/","%252F"),handleAs:"json",headers:{root:window.location.origin},load:function(t){void 0!==t.redirect&&0==t.redirect?void 0!==t.listpage&&null!=t.listpage&&void 0!==t.url&&null!=t.url?document.location.href=t.url+"?q="+encodeURIComponent(e):void 0!==t.listpage&&null==t.listpage&&(document.location.href=SearchJS.coveoSearchRedirect+encodeURIComponent(e)):void 0!==t.redirect&&1==t.redirect&&void 0!==t.url&&null!=t.url?document.location.href=t.url+"?searchTerm="+e:document.location.href=SearchJS.coveoSearchRedirect+encodeURIComponent(e)},error:function(e){console.log(e)}})},coveoCategorySuggestionRedirection:function(e,t){void 0!==SearchJS.coveoCategorySuggestionsArr[t]&&void 0!==SearchJS.coveoCategorySuggestionsArr[t].split(" in ")[1]&&(document.location.href=e+"f-category="+encodeURIComponent(SearchJS.coveoCategorySuggestionsArr[t].split(" in ")[1].replace("~",""))+"&q="+encodeURIComponent(SearchJS.coveoCategorySuggestionsArr[t].split(" in ")[0]))},coveoProductCardSuggestionRedirection:function(e,t,o){void 0!==SearchJS.productCardsArr[t]&&(document.location.href=e+encodeURIComponent(o))}},wc.render.declareContext("AutoSuggest_Context",null,""),wc.render.declareContext("CachedSuggestions_Context",null,""),wc.render.declareRefreshController({id:"AutoSuggestCachedSuggestionsController",renderContext:wc.render.getContextById("CachedSuggestions_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;t.refresh(o.properties)},postRefreshHandler:function(e){this.renderContext;var t=document.getElementById("cachedSuggestions");if(null==t)document.getElementById("autoSuggestCachedSuggestions_div").innerHTML="";else{for(var o=t.getElementsByTagName("script"),r=o.length,s=0;s<r;s++){var n=document.createElement("script");n.type="text/javascript",n.text=o[s].text,document.getElementById("autoSuggestCachedSuggestions_div").appendChild(n)}SearchJS.retrievedCachedSuggestions=!0;var a=document.getElementById("mobileSearchDropdown");null!=a&&"block"==a.style.display?searchTerm=document.getElementById("MobileSimpleSearchForm_SearchTerm").value:searchTerm=document.CatalogSearchForm.searchTerm.value,searchTerm.length,SearchJS.AUTOSUGGEST_THRESHOLD}}}),wc.render.declareRefreshController({id:"AutoSuggestDisplayController",renderContext:wc.render.getContextById("AutoSuggest_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;t.refresh(o.properties)},postRefreshHandler:function(e){this.renderContext;var t=document.getElementById("suggestedKeywordResults"),o=document.getElementById("suggestedProductsResults");null==t&&null==o&&(document.getElementById("autoSuggestDynamic_Result_div").innerHTML=""),SearchJS.showAutoSuggestIfResults()}}));